\hypertarget{class_db_object}{\section{Db\-Object Class Reference}
\label{class_db_object}\index{Db\-Object@{Db\-Object}}
}


Inherits Object\-Unique.



Inherited by File, Group, Group\-Permission, Permission, User\-Connection, User\-Group, User\-Manager\-Verifiable, and User\-Permission.

\subsection*{Public Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_db_object_ab3d335221706ac2e08f299a4455f6a31}{init} (\hyperlink{class_db_table}{Db\-Table} \$o\-Table, array \$a\-Data)
\item 
\hyperlink{class_db_object_ab927f1a5cac1905a0be1452d0ef76aac}{get\-Table} ()
\item 
\hyperlink{class_db_object_a38e5ae3d5bf25b14cbaf70abe7e8159c}{get\-Id} ()
\item 
\hyperlink{class_db_object_afba4ed3fd0560178f3dde75ca5f71b8d}{delete} ()
\item 
\hyperlink{class_db_object_a3e1d2098bd1491048f134dc8fcde055c}{is\-Deleted} ()
\end{DoxyCompactItemize}
\subsection*{Static Public Member Functions}
\begin{DoxyCompactItemize}
\item 
static \hyperlink{class_db_object_a34b933c020ec318e268ba64ed65f5b9f}{load\-Object} (\hyperlink{class_db_table}{Db\-Table} \$o\-Table, \$m\-Id, \$s\-Id\-Field\-Overwrite=null)
\item 
static \hyperlink{class_db_object_a75eacf385371fb1d558ab6e3361d9b3d}{load\-Object\-List} (\hyperlink{class_db_table}{Db\-Table} \$o\-Table, P\-D\-O\-Statement \$o\-Statement)
\item 
static \hyperlink{class_db_object_a48c2d33c43e6f0b68b4e7dcde9cd8c12}{create\-Object} (\hyperlink{class_db_table}{Db\-Table} \$o\-Table, array \$a\-Data)
\item 
static \hyperlink{class_db_object_a8b9c9c2300e93e1e84b08c90a20d651d}{generate\-Unique\-Key} (\hyperlink{class_db_table}{Db\-Table} \$o\-Table, \$m\-Id)
\end{DoxyCompactItemize}
\subsection*{Protected Member Functions}
\begin{DoxyCompactItemize}
\item 
\hyperlink{class_db_object_a449264f07a4601bdd23572b8162557c1}{get\-Data\-Value} (\$s\-Column, \$m\-Default=false)
\item 
\hyperlink{class_db_object_a1cf703960ff6db11c765991c7a510bee}{set\-Data\-Value} (\$s\-Column, \$m\-Value)
\end{DoxyCompactItemize}


\subsection{Detailed Description}
This class is meant to represent a table row. Each row should be uniquely identifiable by the unique value within a single column. If required you can inherit and add additional logic to handle the internal data.

\begin{DoxyAuthor}{Author}
Jelle 
\end{DoxyAuthor}
\begin{DoxyVersion}{Version}
0.\-3.\-0 
\end{DoxyVersion}


\subsection{Member Function Documentation}
\hypertarget{class_db_object_a48c2d33c43e6f0b68b4e7dcde9cd8c12}{\index{Db\-Object@{Db\-Object}!create\-Object@{create\-Object}}
\index{create\-Object@{create\-Object}!DbObject@{Db\-Object}}
\subsubsection[{create\-Object}]{\setlength{\rightskip}{0pt plus 5cm}static Db\-Object\-::create\-Object (
\begin{DoxyParamCaption}
\item[{{\bf Db\-Table}}]{\$o\-Table, }
\item[{array}]{\$a\-Data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [final]}}}\label{class_db_object_a48c2d33c43e6f0b68b4e7dcde9cd8c12}
Create a new object by first inserting the given data, and by calling load\-Object next. load\-Object will be called with the Id given in the data, or if none found, the insert-\/id returned from the insert statement.

\begin{DoxySeeAlso}{See Also}
\hyperlink{class_db_object_a34b933c020ec318e268ba64ed65f5b9f}{load\-Object()} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
\hyperlink{class_db_table}{Db\-Table} & {\em \$o\-Table} & \\
\hline
array & {\em \$a\-Data} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Object\-Unique$|$null 
\end{DoxyReturn}
\hypertarget{class_db_object_afba4ed3fd0560178f3dde75ca5f71b8d}{\index{Db\-Object@{Db\-Object}!delete@{delete}}
\index{delete@{delete}!DbObject@{Db\-Object}}
\subsubsection[{delete}]{\setlength{\rightskip}{0pt plus 5cm}Db\-Object\-::delete (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_db_object_afba4ed3fd0560178f3dde75ca5f71b8d}
Delete this row from the database, and flag this instance as deleted. \hypertarget{class_db_object_a8b9c9c2300e93e1e84b08c90a20d651d}{\index{Db\-Object@{Db\-Object}!generate\-Unique\-Key@{generate\-Unique\-Key}}
\index{generate\-Unique\-Key@{generate\-Unique\-Key}!DbObject@{Db\-Object}}
\subsubsection[{generate\-Unique\-Key}]{\setlength{\rightskip}{0pt plus 5cm}static Db\-Object\-::generate\-Unique\-Key (
\begin{DoxyParamCaption}
\item[{{\bf Db\-Table}}]{\$o\-Table, }
\item[{}]{\$m\-Id}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [final]}}}\label{class_db_object_a8b9c9c2300e93e1e84b08c90a20d651d}
Generate the unique key for the given parameters.


\begin{DoxyParams}[1]{Parameters}
\hyperlink{class_db_table}{Db\-Table} & {\em \$o\-Table} & \\
\hline
mixed & {\em \$m\-Id} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
string 
\end{DoxyReturn}
\hypertarget{class_db_object_a449264f07a4601bdd23572b8162557c1}{\index{Db\-Object@{Db\-Object}!get\-Data\-Value@{get\-Data\-Value}}
\index{get\-Data\-Value@{get\-Data\-Value}!DbObject@{Db\-Object}}
\subsubsection[{get\-Data\-Value}]{\setlength{\rightskip}{0pt plus 5cm}Db\-Object\-::get\-Data\-Value (
\begin{DoxyParamCaption}
\item[{}]{\$s\-Column, }
\item[{}]{\$m\-Default = {\ttfamily false}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [protected]}}}\label{class_db_object_a449264f07a4601bdd23572b8162557c1}
Get the value for a specific column, or \$m\-Default if none is set. Even when deleted, this might still return the old values.


\begin{DoxyParams}[1]{Parameters}
string & {\em \$s\-Column} & Column name. \\
\hline
mixed & {\em \$m\-Default} & Default value when no column is found. (default\-: false, not null, since null is a valid sql-\/value) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
mixed$|$\$m\-Default Returns \$m\-Default is when column is not found. 
\end{DoxyReturn}
\hypertarget{class_db_object_a38e5ae3d5bf25b14cbaf70abe7e8159c}{\index{Db\-Object@{Db\-Object}!get\-Id@{get\-Id}}
\index{get\-Id@{get\-Id}!DbObject@{Db\-Object}}
\subsubsection[{get\-Id}]{\setlength{\rightskip}{0pt plus 5cm}Db\-Object\-::get\-Id (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_db_object_a38e5ae3d5bf25b14cbaf70abe7e8159c}
Get the row I\-D.

\begin{DoxyReturn}{Returns}
mixed 
\end{DoxyReturn}
\hypertarget{class_db_object_ab927f1a5cac1905a0be1452d0ef76aac}{\index{Db\-Object@{Db\-Object}!get\-Table@{get\-Table}}
\index{get\-Table@{get\-Table}!DbObject@{Db\-Object}}
\subsubsection[{get\-Table}]{\setlength{\rightskip}{0pt plus 5cm}Db\-Object\-::get\-Table (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_db_object_ab927f1a5cac1905a0be1452d0ef76aac}
Get the associated \hyperlink{class_db_table}{Db\-Table} instance.

\begin{DoxyReturn}{Returns}
\hyperlink{class_db_table}{Db\-Table} 
\end{DoxyReturn}
\hypertarget{class_db_object_ab3d335221706ac2e08f299a4455f6a31}{\index{Db\-Object@{Db\-Object}!init@{init}}
\index{init@{init}!DbObject@{Db\-Object}}
\subsubsection[{init}]{\setlength{\rightskip}{0pt plus 5cm}Db\-Object\-::init (
\begin{DoxyParamCaption}
\item[{{\bf Db\-Table}}]{\$o\-Table, }
\item[{array}]{\$a\-Data}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [final]}}}\label{class_db_object_ab3d335221706ac2e08f299a4455f6a31}
Internal constructor for an object representing a table row, identifiablme by a single column.


\begin{DoxyExceptions}{Exceptions}
{\em Db\-Invalid\-Db\-Object\-Id} & When the required I\-D is not found within \$a\-Data. \\
\hline
\end{DoxyExceptions}

\begin{DoxyParams}[1]{Parameters}
\hyperlink{class_db_table}{Db\-Table} & {\em \$o\-Table} & Table object contraining table name and default I\-D column. \\
\hline
array & {\em \$a\-Data} & An array with the row data. \\
\hline
\end{DoxyParams}
\hypertarget{class_db_object_a3e1d2098bd1491048f134dc8fcde055c}{\index{Db\-Object@{Db\-Object}!is\-Deleted@{is\-Deleted}}
\index{is\-Deleted@{is\-Deleted}!DbObject@{Db\-Object}}
\subsubsection[{is\-Deleted}]{\setlength{\rightskip}{0pt plus 5cm}Db\-Object\-::is\-Deleted (
\begin{DoxyParamCaption}
{}
\end{DoxyParamCaption}
)}}\label{class_db_object_a3e1d2098bd1491048f134dc8fcde055c}
Check if the data of this instance/row is supposed to be deleted.

\begin{DoxyReturn}{Returns}
boolean 
\end{DoxyReturn}
\hypertarget{class_db_object_a34b933c020ec318e268ba64ed65f5b9f}{\index{Db\-Object@{Db\-Object}!load\-Object@{load\-Object}}
\index{load\-Object@{load\-Object}!DbObject@{Db\-Object}}
\subsubsection[{load\-Object}]{\setlength{\rightskip}{0pt plus 5cm}static Db\-Object\-::load\-Object (
\begin{DoxyParamCaption}
\item[{{\bf Db\-Table}}]{\$o\-Table, }
\item[{}]{\$m\-Id, }
\item[{}]{\$s\-Id\-Field\-Overwrite = {\ttfamily null}}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [final]}}}\label{class_db_object_a34b933c020ec318e268ba64ed65f5b9f}
Load an object for the given Id. If an equivalent object allready exists, the function will check if it is deleted.

!! This class no longer supports is\-\_\-array(\$m\-Data) since it allowed to easily for objects with incomplete row-\/data (such as default values).


\begin{DoxyParams}[1]{Parameters}
\hyperlink{class_db_table}{Db\-Table} & {\em \$o\-Table} & \\
\hline
mixed & {\em \$m\-Id} & \\
\hline
string & {\em \$s\-Id\-Field\-Overwrite} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
Object\-Unique$|$null Will return null when unable to load designated object. 
\end{DoxyReturn}
\hypertarget{class_db_object_a75eacf385371fb1d558ab6e3361d9b3d}{\index{Db\-Object@{Db\-Object}!load\-Object\-List@{load\-Object\-List}}
\index{load\-Object\-List@{load\-Object\-List}!DbObject@{Db\-Object}}
\subsubsection[{load\-Object\-List}]{\setlength{\rightskip}{0pt plus 5cm}static Db\-Object\-::load\-Object\-List (
\begin{DoxyParamCaption}
\item[{{\bf Db\-Table}}]{\$o\-Table, }
\item[{P\-D\-O\-Statement}]{\$o\-Statement}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [static]}, {\ttfamily [final]}}}\label{class_db_object_a75eacf385371fb1d558ab6e3361d9b3d}
Scan for valid records through the given P\-D\-O\-Statement. You need to make sure teh rows are full representations of the table data, and have a valid Id matching \$o\-Table-\/$>$get\-Id\-Field().


\begin{DoxyParams}[1]{Parameters}
\hyperlink{class_db_table}{Db\-Table} & {\em \$o\-Table} & \\
\hline
P\-D\-O\-Statement & {\em \$o\-Statement} & \\
\hline
\end{DoxyParams}

\begin{DoxyExceptions}{Exceptions}
{\em Db\-Invalid\-Db\-Object\-Id} & \\
\hline
\end{DoxyExceptions}
\begin{DoxyReturn}{Returns}
array$<$\-Db\-Object$>$ 
\end{DoxyReturn}
\hypertarget{class_db_object_a1cf703960ff6db11c765991c7a510bee}{\index{Db\-Object@{Db\-Object}!set\-Data\-Value@{set\-Data\-Value}}
\index{set\-Data\-Value@{set\-Data\-Value}!DbObject@{Db\-Object}}
\subsubsection[{set\-Data\-Value}]{\setlength{\rightskip}{0pt plus 5cm}Db\-Object\-::set\-Data\-Value (
\begin{DoxyParamCaption}
\item[{}]{\$s\-Column, }
\item[{}]{\$m\-Value}
\end{DoxyParamCaption}
)\hspace{0.3cm}{\ttfamily [final]}, {\ttfamily [protected]}}}\label{class_db_object_a1cf703960ff6db11c765991c7a510bee}
Try to update the given value in this instance, and reflect that change on the database-\/table. This won't change anything of the instance/row is considered deleted.

\begin{DoxySeeAlso}{See Also}
\hyperlink{class_db_table_af8d3df2720582fd6394f2eaf955030a6}{Db\-Table\-::update()} 
\end{DoxySeeAlso}

\begin{DoxyParams}[1]{Parameters}
string & {\em \$s\-Column} & \\
\hline
mixed & {\em \$m\-Value} & \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
boolean 
\end{DoxyReturn}


The documentation for this class was generated from the following file\-:\begin{DoxyCompactItemize}
\item 
dbobject.\-php\end{DoxyCompactItemize}
